!function(e){function t(t){for(var n,s,a=t[0],c=t[1],l=t[2],d=0,g=[];d<a.length;d++)s=a[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&g.push(i[s][0]),i[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(u&&u(t);g.length;)g.shift()();return r.push.apply(r,l||[]),o()}function o(){for(var e,t=0;t<r.length;t++){for(var o=r[t],n=!0,a=1;a<o.length;a++){var c=o[a];0!==i[c]&&(n=!1)}n&&(r.splice(t--,1),e=s(s.s=o[0]))}return e}var n={},i={3:0},r=[];function s(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=e,s.c=n,s.d=function(e,t,o){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(o,n,function(t){return e[t]}.bind(null,n));return o},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var a=window.webpackJsonp=window.webpackJsonp||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var u=c;r.push([22,0]),o()}({22:function(e,t,o){"use strict";var n=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=o(0),r=o(3);window.SB=i.default;const s=o(2),a=o(23),c=new s.default;function l(){const e=document.getElementById("options").querySelectorAll("*");for(let t=0;t<e.length;t++)switch(e[t].getAttribute("option-type")){case"display":u(e[t])}}function u(e){const t=e.getAttribute("sync-option"),o=i.default.config[t];switch(e.innerText=o,t){case"invidiousInstances":e.innerText=o.join(", ")}}function d(e,t){const o=e.querySelector(".option-text-box"),r=e.querySelector(".trigger-button");e.querySelector(".text-change-set").addEventListener("click",(function(){return n(this,void 0,void 0,(function*(){if(""==o.value||o.value.includes("/")||o.value.includes("http"))alert(chrome.i18n.getMessage("addInvidiousInstanceError"));else{let n=i.default.config[t];n||(n=[]),n.push(o.value),i.default.config[t]=n;const s=document.querySelector("#support-invidious input");s.checked=!0,p(s,"supportInvidious"),o.value="",e.querySelector(".option-hidden-section").classList.add("hidden"),r.classList.remove("disabled")}}))})),e.querySelector(".invidious-instance-reset").addEventListener("click",(function(){confirm(chrome.i18n.getMessage("resetInvidiousInstanceAlert"))&&(i.default.config[t]=i.default.defaults[t].slice(0))}))}function g(e,t){let o=["declarativeContent"];c.isFirefox()&&(o=[]),chrome.permissions.contains({origins:c.getPermissionRegex(),permissions:o},(function(o){o!=e.checked&&(i.default.config[t]=o,e.checked=o)}))}function p(e,t){return n(this,void 0,void 0,(function*(){return new Promise(o=>{e.checked?c.setupExtraSitePermissions((function(n){n?e.checked=!0:(i.default.config[t]=!1,e.checked=!1),o()})):c.removeExtraSiteRegistration()})}))}function f(e){const t=e.querySelector(".trigger-button");if(t.classList.contains("disabled"))return;t.classList.add("disabled");const o=e.getAttribute("sync-option"),n=null!==i.default.config[o]?chrome.i18n.getMessage("keybindCurrentlySet"):"";if(e.querySelector(".option-hidden-section > .keybind-status").innerText=chrome.i18n.getMessage("keybindDescription")+n,null!==i.default.config[o]){e.querySelector(".option-hidden-section > .keybind-status-key").innerText=i.default.config[o]}e.querySelector(".option-hidden-section").classList.remove("hidden"),document.addEventListener("keydown",t=>function e(t,o){const n=o.key;if(-1!==["Shift","Control","Meta","Alt","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Tab"].indexOf(n))document.addEventListener("keydown",o=>e(t,o),{once:!0});else{const e=t.querySelector(".trigger-button"),o=t.getAttribute("sync-option"),r="startSponsorKeybind"===o?i.default.config.submitKeybind:i.default.config.startSponsorKeybind;if(n===r)return y(t,e),void alert(chrome.i18n.getMessage("theKey")+" "+n+" "+chrome.i18n.getMessage("keyAlreadyUsed"));if("Escape"===n)return void y(t,e);i.default.config[o]=n,t.querySelector(".option-hidden-section > .keybind-status").innerText=chrome.i18n.getMessage("keybindDescriptionComplete"),t.querySelector(".option-hidden-section > .keybind-status-key").innerText=n,e.classList.remove("disabled")}}(e,t),{once:!0})}function y(e,t){e.querySelector(".option-hidden-section").classList.add("hidden"),t.classList.remove("disabled")}function h(e){const t=e.querySelector(".trigger-button");if(t.classList.contains("disabled"))return;t.classList.add("disabled");const o=e.querySelector(".option-text-box"),r=e.getAttribute("sync-option");switch(r){case"invidiousInstances":return void e.querySelector(".option-hidden-section").classList.remove("hidden")}let s=i.default.config[r];switch(r){case"*":{const e=JSON.parse(JSON.stringify(i.default.localConfig));e.segmentTimes=i.default.encodeStoredItem(i.default.localConfig.segmentTimes),s=JSON.stringify(e);break}}o.value=s,e.querySelector(".text-change-set").addEventListener("click",()=>n(this,void 0,void 0,(function*(){const t=e.getAttribute("confirm-message");if(null===t||confirm(chrome.i18n.getMessage(t)))switch(r){case"*":try{const e=JSON.parse(o.value);for(const t in e)i.default.config[t]=e[t];if(i.default.convertJSON(),e.supportInvidious){const e=document.querySelector("#support-invidious > label > label > input");e.checked=!0,yield p(e,"supportInvidious")}window.location.reload()}catch(e){alert(chrome.i18n.getMessage("incorrectlyFormattedOptions"))}break;default:i.default.config[r]=o.value}}))),e.querySelector(".option-hidden-section").classList.remove("hidden")}function m(e){return(e=(e=e.trim()).replace(/\/+$/,"")).startsWith("https://")||e.startsWith("http://")?e:(alert(chrome.i18n.getMessage("customAddressError")),null)}function v(){const e={debug:{userAgent:navigator.userAgent,platform:navigator.platform,language:navigator.language,extensionVersion:chrome.runtime.getManifest().version},config:JSON.parse(JSON.stringify(i.default.localConfig))};e.config.segmentTimes=i.default.encodeStoredItem(i.default.localConfig.segmentTimes),delete e.config.userID,e.config.serverAddress=e.config.serverAddress===r.serverAddress?"Default server address":"Custom server address",e.config.invidiousInstances=e.config.invidiousInstances.length,e.config.whitelistedChannels=e.config.whitelistedChannels.length,navigator.clipboard.writeText(JSON.stringify(e,null,4)).then(()=>{alert(chrome.i18n.getMessage("copyDebugInformationComplete"))}).catch(()=>{alert(chrome.i18n.getMessage("copyDebugInformationFailed"))})}window.addEventListener("DOMContentLoaded",(function(){return n(this,void 0,void 0,(function*(){if(c.localizeHtmlPage(),"#embed"===window.location.hash){for(const e of document.getElementsByClassName("titleBar"))e.classList.add("hidden");document.getElementById("options").classList.add("embed")}i.default.configListeners.includes(l)||i.default.configListeners.push(l),yield c.wait(()=>null!==i.default.config);const e=document.getElementById("options"),t=e.querySelectorAll("*");for(let e=0;e<t.length;e++)if("true"===t[e].getAttribute("private-mode-only")&&!(yield new Promise(e=>chrome.extension.isAllowedIncognitoAccess(e)))||"true"===t[e].getAttribute("no-safari")&&"Apple Computer, Inc."===navigator.vendor||t[e].getAttribute("if-false")&&i.default.config[t[e].getAttribute("if-false")])t[e].classList.add("hidden");else switch(t[e].getAttribute("option-type")){case"toggle":{const o=t[e].getAttribute("sync-option"),n=i.default.config[o],r=t[e].querySelector("input"),s="reverse"===t[e].getAttribute("toggle-type"),a=t[e].getAttribute("confirm-message");switch(null!=n&&(r.checked=n,s&&(t[e].querySelector("input").checked=!n)),o){case"supportInvidious":g(r,o)}r.addEventListener("click",()=>{if(r.checked&&a&&!confirm(chrome.i18n.getMessage(a)))r.checked=!1;else switch(i.default.config[o]=s?!r.checked:r.checked,o){case"supportInvidious":p(r,o);break;case"disableAutoSkip":if(!r.checked){i.default.config.dontShowNotice=!1,document.querySelector("[sync-option='dontShowNotice'] > label > label > input").checked=!0}}});break}case"text-change":{const o=t[e].getAttribute("sync-option"),r=t[e].querySelector(".option-text-box"),s=t[e].querySelector(".text-change-set");r.value=i.default.config[o],s.addEventListener("click",()=>n(this,void 0,void 0,(function*(){switch(o){case"serverAddress":{const e=m(r.value);if(null===e)return;if(r.value=e,c.isFirefox()){if(!(yield new Promise(e=>{chrome.permissions.request({origins:[r.value+"/"],permissions:[]},e)})))return}break}}i.default.config[o]=r.value}))),t[e].querySelector(".text-change-reset").addEventListener("click",()=>{confirm(chrome.i18n.getMessage("areYouSureReset"))&&(i.default.config[o]=i.default.defaults[o],r.value=i.default.config[o])});break}case"private-text-change":{t[e].querySelector(".trigger-button").addEventListener("click",()=>h(t[e]));const o=t[e].getAttribute("sync-option");switch(o){case"invidiousInstances":d(t[e],o)}break}case"button-press":{const o=t[e].querySelector(".trigger-button");switch(t[e].getAttribute("sync-option")){case"copyDebugInformation":o.addEventListener("click",v)}break}case"keybind-change":t[e].querySelector(".trigger-button").addEventListener("click",()=>f(t[e]));break;case"display":u(t[e]);break;case"number-change":{const o=t[e].getAttribute("sync-option"),n=i.default.config[o],r=t[e].querySelector("input");isNaN(n)||n<0?r.value=i.default.defaults[o]:r.value=n,r.addEventListener("input",()=>{i.default.config[o]=r.value});break}case"react-CategoryChooserComponent":new a.default(t[e])}e.classList.remove("hidden"),e.classList.add("animated")}))}))},23:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(1),i=o(5),r=o(24);t.default=class{constructor(e){i.render(n.createElement(r.default,null),e)}}},24:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(1),i=o(3),r=o(25);class s extends n.Component{constructor(e){super(e),this.state={}}render(){return n.createElement("table",{id:"categoryChooserTable",className:"categoryChooserTable"},n.createElement("tbody",null,n.createElement("tr",{id:"CategoryOptionsRow",className:"categoryTableElement categoryTableHeader"},n.createElement("td",{id:"CategoryOptionName"},chrome.i18n.getMessage("category")),n.createElement("td",{id:"CategorySkipOption",className:"skipOption"},chrome.i18n.getMessage("skipOption")),n.createElement("td",{id:"CategoryColorOption",className:"colorOption"},chrome.i18n.getMessage("seekBarColor")),n.createElement("td",{id:"CategoryPreviewColorOption",className:"previewColorOption"},chrome.i18n.getMessage("previewColor"))),this.getCategorySkipOptions()))}getCategorySkipOptions(){const e=[];for(const t of i.categoryList)e.push(n.createElement(r.default,{category:t,key:t}));return e}}t.default=s},25:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(1),i=o(0),r=o(4);class s extends n.Component{constructor(e){var t,o;super(e),this.state={color:e.defaultColor||(null===(t=i.default.config.barTypes[this.props.category])||void 0===t?void 0:t.color),previewColor:e.defaultPreviewColor||(null===(o=i.default.config.barTypes["preview-"+this.props.category])||void 0===o?void 0:o.color)}}render(){let e="disable";for(const t of i.default.config.categorySelections)if(t.name===this.props.category){switch(t.option){case r.CategorySkipOption.ShowOverlay:e="showOverlay";break;case r.CategorySkipOption.ManualSkip:e="manualSkip";break;case r.CategorySkipOption.AutoSkip:e="autoSkip"}break}return n.createElement(n.Fragment,null,n.createElement("tr",{id:this.props.category+"OptionsRow",className:"categoryTableElement"},n.createElement("td",{id:this.props.category+"OptionName",className:"categoryTableLabel"},chrome.i18n.getMessage("category_"+this.props.category)),n.createElement("td",{id:this.props.category+"SkipOption",className:"skipOption"},n.createElement("select",{className:"categoryOptionsSelector",defaultValue:e,onChange:this.skipOptionSelected.bind(this)},this.getCategorySkipOptions())),n.createElement("td",{id:this.props.category+"ColorOption",className:"colorOption"},n.createElement("input",{className:"categoryColorTextBox option-text-box",type:"color",onChange:e=>this.setColorState(e,!1),value:this.state.color})),n.createElement("td",{id:this.props.category+"PreviewColorOption",className:"previewColorOption"},n.createElement("input",{className:"categoryColorTextBox option-text-box",type:"color",onChange:e=>this.setColorState(e,!0),value:this.state.previewColor}))),n.createElement("tr",{id:this.props.category+"DescriptionRow",className:"small-description"},n.createElement("td",{colSpan:2},chrome.i18n.getMessage("category_"+this.props.category+"_description"))))}skipOptionSelected(e){let t;switch(this.removeCurrentCategorySelection(),e.target.value){case"disable":return;case"showOverlay":t=r.CategorySkipOption.ShowOverlay;break;case"manualSkip":t=r.CategorySkipOption.ManualSkip;break;case"autoSkip":t=r.CategorySkipOption.AutoSkip}i.default.config.categorySelections.push({name:this.props.category,option:t}),i.default.config.categorySelections=i.default.config.categorySelections}removeCurrentCategorySelection(){for(let e=0;e<i.default.config.categorySelections.length;e++)if(i.default.config.categorySelections[e].name===this.props.category){i.default.config.categorySelections.splice(e,1),i.default.config.categorySelections=i.default.config.categorySelections;break}}getCategorySkipOptions(){const e=[],t=["disable","showOverlay","manualSkip","autoSkip"];for(const o of t)e.push(n.createElement("option",{key:o,value:o},chrome.i18n.getMessage(o)));return e}setColorState(e,t){t?(this.setState({previewColor:e.currentTarget.value}),i.default.config.barTypes["preview-"+this.props.category].color=e.currentTarget.value):(this.setState({color:e.currentTarget.value}),i.default.config.barTypes[this.props.category].color=e.currentTarget.value),i.default.config.barTypes=i.default.config.barTypes}}t.default=s}});