!function(e){function t(t){for(var r,s,u=t[0],c=t[1],a=t[2],f=0,d=[];f<u.length;f++)s=u[f],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&d.push(o[s][0]),o[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(l&&l(t);d.length;)d.shift()();return i.push.apply(i,a||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,u=1;u<n.length;u++){var c=n[u];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},o={1:0},i=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var u=window.webpackJsonp=window.webpackJsonp||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var a=0;a<u.length;a++)t(u[a]);var l=c;i.push([10,0]),n()}({10:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3),i=n(0);window.SB=i.default;const s=new(n(2).default)({registerFirefoxContentScript:c,unregisterFirefoxContentScript:a}),u={};function c(e){const t=u[e.id];t&&t.unregister(),browser.contentScripts.register({allFrames:e.allFrames,js:e.js,css:e.css,matches:e.matches}).then(t=>{u[e.id]=t})}function a(e){u[e].unregister(),delete u[e]}function l(e,t,n={}){return r(this,void 0,void 0,(function*(){if("get"===e.toLowerCase()){for(const e in n){const r=t.includes("?")?"&":"?",o="string"==typeof n[e]?n[e]:JSON.stringify(n[e]);t+=r+e+"="+o}n=null}return yield fetch(t,{method:e,headers:{"Content-Type":"application/json"},redirect:"follow",body:n?JSON.stringify(n):null})}))}s.isFirefox()&&s.wait(()=>null!==i.default.config).then((function(){i.default.config.supportInvidious&&s.setupExtraSiteContentScripts()})),chrome.tabs.onUpdated.addListener((function(e){chrome.tabs.sendMessage(e,{message:"update"},()=>{chrome.runtime.lastError})})),chrome.runtime.onMessage.addListener((function(e,t,n){switch(e.message){case"openConfig":return void chrome.runtime.openOptionsPage();case"openHelp":return void chrome.tabs.create({url:chrome.runtime.getURL("help/index_en.html")});case"openPage":return void chrome.tabs.create({url:chrome.runtime.getURL(e.url)});case"sendRequest":return l(e.type,e.url,e.data).then(e=>r(this,void 0,void 0,(function*(){n({responseText:yield e.text(),status:e.status,ok:e.ok})}))),!0;case"submitVote":return function(e,t,n){return r(this,void 0,void 0,(function*(){let u=i.default.config.userID;null!=u&&"undefined"!==u||(u=s.generateUserID(),i.default.config.userID=u);const c=void 0!==e?"&type="+e:"&category="+n,a=yield function(e,t,n={}){return r(this,void 0,void 0,(function*(){const r=i.default.config.testingServer?o.testingServerAddress:i.default.config.serverAddress;return yield l(e,r+t,n)}))}("POST","/api/voteOnSponsorTime?UUID="+t+"&userID="+u+c);return a.ok?{successType:1,responseText:yield a.text()}:405==a.status?{successType:0,statusCode:a.status,responseText:yield a.text()}:{successType:-1,statusCode:a.status,responseText:yield a.text()}}))}(e.type,e.UUID,e.category).then(n),!0;case"registerContentScript":return c(e),!1;case"unregisterContentScript":return a(e.id),!1}})),chrome.runtime.onInstalled.addListener((function(){setTimeout((function(){if(!i.default.config.userID){chrome.tabs.create({url:chrome.extension.getURL("/help/index_en.html")});const e=s.generateUserID();i.default.config.userID=e}}),1500)}))}});